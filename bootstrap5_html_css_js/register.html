<!-- bs5-$ -->
<!DOCTYPE html>
<html lang="en">
  <head>
    <title>Bootstrap5, html5,css3,js</title>
    <!-- Required meta tags -->
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />

    <!-- Bootstrap CSS v5.2.1 -->
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN"
      crossorigin="anonymous"
    />
    <!-- internal css -->
    <style>
      :root {
        --card-max: 28rem;
      }
      html {
        font-size: 18px;
      }
      body {
        min-height: 100vh;
        font-family: system-ui, -apple-system, Segoe UI, Roboto, 'Helvetica Neue', Arial,
          'Noto Sans', 'Apple Color Emoji', 'Segoe UI Emoji';
        background: radial-gradient(1200px 800px at 20% 10%, #f1f5f9, transparent),
          radial-gradient(1200px 800px at 80% 90%, #e8f0fe, transparent);
        display: grid;
        place-items: center;
        margin: 0;
      }
      .auto-card {
        max-width: var(--card-max);
        width: 100%;
      }
      .brand {
        letter-spacing: 0.5px;
      }
      .help {
        font-size: 0.9rem;
      }
      .is-hidden {
        display: none !important;
      }
      .form-check .invalid-feedback {
        display: block;
      } /* keep bootstrap semantics */
    </style>
    <!-- external css -->
    <!-- <link rel="stylesheet" href="style.css" /> -->
  </head>

  <body class="d-flex align-items-center justify-content-center">
    <noscript>your browser is not showing</noscript>
    <!-- start code -->
    <!-- bs5-alert-clos... -->
    <!-- Başarılı kayıt sonrası gösterilecek demo mesaj alanı (başta gizli) -->
    <div
      id="successAlert"
      class="alert alert-success position-fixed top-0 start-50 translate-middle-x mt-3 d-none"
      role="alert"
    >
      Kayıt başarılı (demo)! Gönderim backend'e yapılmadı.
    </div>

    <!-- Form -->
    <!-- bs5-card-def... -->
    <div class="card auto-card shadow-lg mt-5">
      <!-- <img class="card-img-top" src="holder.js/100x180/" alt="Title" /> -->
      <div class="card-body">
        <!-- h1.h4.text-primary.text-center{Kayıt Ol} -->
        <h1 class="text-uppercase h2 mb-4 text-primary text-center">Kayıt Ol</h1>
        <!-- p.text-muted.text-center.mb-4{Lütfen bilgilerinizi eksiksiz giriniz} -->
        <p class="text-muted text-center mb-4">(*) Lütfen bilgilerinizi eksiksiz giriniz</p>

        <!-- form#registerForm.needs-validation>div.form-group>label#fname+input#fname.form-control -->
        <!-- novalidate: Bu yapı formun kendi doğrulama özelliklerini devre dışı bırakır ve özel doğrulama işlemleri için kullanılır. -->
        <form
          action="#"
          id="registerForm"
          class="needs-validation"
          method="get"
          novalidate
          autocomplete="on"
        >
          <!-- FIRSTNAME -->
          <div class="form-group mb-4">
            <label for="firstName" class="form-label text-primary">Adınız (*)</label>
            <input
              type="text"
              id="firstName"
              class="form-control"
              placeholder="Adınız ..."
              autocomplete="Hamit"
              required
              autofocus
              pattern="^[A-Za-zÇĞİÖŞÜçğıöşü' -]{3,}$"
            />
            <!-- Validation Alert -->
            <div
              class="mt-2 mb-1 alert alert-danger alert-dismissible fade show invalid-feedback"
              role="alert"
            >
              <button
                type="button"
                class="btn-close"
                data-bs-dismiss="alert"
                aria-label="Close"
              ></button>

              <strong>Validation:</strong>
              Adınız için en az 3 karakter yazmalısınız
            </div>
          </div>

          <!-- LASTNAME -->
          <div class="form-group mb-4">
            <label for="lastName" class="form-label text-primary">Soyadınız (*)</label>
            <input
              type="text"
              id="lastName"
              class="form-control"
              placeholder="Soyadınız ..."
              autocomplete="Mızrak"
              required
              autofocus
              pattern="^[A-Za-zÇĞİÖŞÜçğıöşü' -]{3,45}$"
            />
            <!-- Validation Alert -->
            <div
              class="mt-2 mb-1 alert alert-danger alert-dismissible fade show invalid-feedback"
              role="alert"
            >
              <button
                type="button"
                class="btn-close"
                data-bs-dismiss="alert"
                aria-label="Close"
              ></button>

              <strong>Validation:</strong>
              Soyadı için en az 3 enfazla 45 karakter yazmalısınız
            </div>
          </div>

          <!-- USERNAME -->
          <div class="form-group mb-4">
            <label for="username" class="form-label text-primary">Kullanıcı adı (*)</label>
            <input
              type="text"
              id="username"
              class="form-control"
              placeholder="Kullanıcı adınız ..."
              autocomplete="HamitMızrak"
              required
              autofocus
              pattern="^[A-Za-zÇĞİÖŞÜçğıöşü' -]{3,16}$"
            />
            <!-- Validation Alert -->
            <div class="form-text text-danger">
              3–16 karakter; harf, rakam, nokta, alt çizgi, tire kullanılabilir.
            </div>
            <div
              class="mt-2 mb-1 alert alert-danger alert-dismissible fade show invalid-feedback"
              role="alert"
            >
              <button
                type="button"
                class="btn-close"
                data-bs-dismiss="alert"
                aria-label="Close"
              ></button>

              <strong>Validation:</strong>
              Kullanıcı adı formatı hatalı (3–16 uzunluk, izinli karakterler: a-z, 0-9, . _ -).
            </div>
          </div>

          <!-- EMAIL -->
          <div class="form-group mb-4">
            <label for="emailName" class="form-label text-primary">Email (*)</label>
            <input
              type="email"
              id="emailName"
              class="form-control"
              placeholder="hamitmizrak@gmail.com ..."
              autocomplete="mail@"
              required
              autofocus
              pattern="^[A-Za-zÇĞİÖŞÜçğıöşü' -]{3,}$"
            />
            <!-- Validation Alert -->
            <div
              class="mt-2 mb-1 alert alert-danger alert-dismissible fade show invalid-feedback"
              role="alert"
            >
              <button
                type="button"
                class="btn-close"
                data-bs-dismiss="alert"
                aria-label="Close"
              ></button>

              <strong>Validation:</strong>
              Mail formatında yazmalısınız.
            </div>
          </div>

          <!-- PASSWORD -->
          <div class="form-group mb-4">
            <label for="password" class="form-label text-primary">Şifreniz (*)</label>
            <input
              type="password"
              id="password"
              class="form-control"
              placeholder="şifreniz..."
              autocomplete="sifre"
              required
              autofocus
              minlength="8"
              maxlength="64"
              title="Şifreniz en az 8 karakter olmalı, en az bir büyük harf, bir küçük harf ve bir rakam içermelidir."
              pattern="^(?=.*[a-z])(?=.*[A-Z])(?=.*\d).{8,64}$"
            />
            <!-- Validation Alert -->
            <div class="form-text invalid-feedback text-danger">
              En az 8 karakter, 1 büyük harf, 1 küçük harf ve 1 rakam içermelidir.
            </div>
            <div
              class="mt-2 mb-1 alert alert-danger alert-dismissible fade show invalid-feedback"
              role="alert"
            >
              <button
                type="button"
                class="btn-close"
                data-bs-dismiss="alert"
                aria-label="Close"
              ></button>

              <strong>Validation:</strong>
              Şifreler uyuşmuyor uygun formatında yazmalısınız.
            </div>
          </div>

          <!-- RE-PASSWORD -->
          <div class="form-group mb-4">
            <label for="confirmPassword" class="form-label text-primary">Şifre Tekrarı (*)</label>
            <input
              type="password"
              id="confirmPassword"
              class="form-control"
              placeholder="şifrenizi tekrar giriniz..."
              autocomplete="sifre"
              required
              autofocus
              minlength="8"
              maxlength="64"
              title="Şifreniz en az 8 karakter olmalı, en az bir büyük harf, bir küçük harf ve bir rakam içermelidir."
              pattern="^(?=.*[a-z])(?=.*[A-Z])(?=.*\d).{8,64}$"
            />
            <!-- Validation Alert -->
            <div class="form-text invalid-feedback text-danger">
              En az 8 karakter, 1 büyük harf, 1 küçük harf ve 1 rakam içermelidir.
            </div>

            <div
              class="mt-2 mb-1 alert alert-danger alert-dismissible fade show invalid-feedback"
              role="alert"
            >
              <button
                type="button"
                class="btn-close"
                data-bs-dismiss="alert"
                aria-label="Close"
              ></button>

              <strong>Validation:</strong>
              Şifreler uyuşmuyor formatında yazmalısınız.
            </div>
          </div>

          <!-- KVKK / kullanım şartları onayı -->
          <!-- required: işaretlenmeden form gönderilemez -->

          <div class="mb-3 form-check">
            <div class="form-check">
              <input class="form-check-input" type="checkbox" value="" id="terms" />
              <label class="form-check-label" for="terms">Okudum, Onaylıyorum</label>
            </div>

            <div
              class="mt-2 mb-1 alert alert-success alert-dismissible fade show invalid-feedback"
              role="alert"
            >
              <button
                type="button"
                class="btn-close"
                data-bs-dismiss="alert"
                aria-label="Close"
              ></button>

              <strong>Validation:</strong>
              Devam edebilmeniz için onay vermeniz gerekiyor.
            </div>
          </div>

          <!-- SUBMIT BUTTON -->
          <div class="d-grid44 ms-4">
            <button type="reset" class="btn btn-danger btn-lg">Temizle</button>
            <button id="submitBtn" type="submit" class="btn btn-primary btn-lg">Kayıt Ol</button>
          </div>
        </form>
      </div>
    </div>

    <!-- end code -->

    <!-- Bootstrap JavaScript Libraries -->
    <script
      src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.8/dist/umd/popper.min.js"
      integrity="sha384-I7E8VVD/ismYTF4hNIPjVp/Zjvgyol6VFvRkX/vR+Vc4jQkC+hVqc2pM8ODewa9r"
      crossorigin="anonymous"
    ></script>

    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.min.js"
      integrity="sha384-BBtl+eGJRgqQAUMxJ7pMwbEyER4l1g+O15P+16Ep7Q9Q+zqX6gSbd85u4mG4QzX+"
      crossorigin="anonymous"
    ></script>

    <!-- external js -->
    <!-- <script src="script.js"></script> -->
    <!-- internal js -->
    <script>
      function attachValidity() {
        input.addEventListener('input', function () {
          if (this.checkValidity()) {
            this.classList.remove('is-invalid');
            //this.classList.add('is-valid');
            alert('success');
          } else {
            //this.classList.remove('is-valid');
            //this.classList.add('is-invalid');
            alert('failed');
          }
        });
      }

      // password ve confirmPassword eşitliği kontrolü
      const validatePasswordMatch = function () {
        const password = document.getElementById('password');
        const confirmPassword = document.getElementById('confirmPassword');

        if (password.value !== confirmPassword.value) {
          confirmPassword.setCustomValidity('Şifreler uyuşmuyor');
        } else {
          confirmPassword.setCustomValidity('');
        }
      }; //end validatePasswordMatch

      // Sayfa inputlar için doğrulayıcı bileşenler
      document.addEventListener('DOMContentLoaded', function () {
        const form = document.getElementById('registerForm');
        const inputs = form.querySelectorAll('input');
        const successAlert = document.getElementById('successAlert');
        //Tüm inputları için canlı listener ekle
        inputs.forEach(attachValidity);

        // password ve confirmPassword eşitliği kontrolü
        const password = document.getElementById('password');
        const confirmPassword = document.getElementById('confirmPassword');
        password.addEventListener('input', validatePasswordMatch);
        confirmPassword.addEventListener('input', validatePasswordMatch);

        // Form submit işlemi
        form.addEventListener(
          'submit',
          function (event) {
            // Şifre eşitliğini kontrol et
            validatePasswordMatch();

            if (!form.checkValidity()) {
              event.preventDefault(); // Formun varsayılan gönderimini engelle
              event.stopPropagation(); // Olayın daha fazla yayılmasını engelle
            } else {
              event.preventDefault(); // Formun varsayılan gönderimini engelle

              successAlert.classList.remove('d-none');
              setTimeout(() => {
                successAlert.classList.add('d-none');
              }, 3000);
            }



            // Tüm inputların geçerliliğini kontrol et
            let allValid = true;
            inputs.forEach(function (input) {
              if (!input.checkValidity()) {
                allValid = false;
                input.classList.add('is-invalid');
              } else {
                input.classList.remove('is-invalid');
                //input.classList.add('is-valid');
              }
            });

            // Eğer tüm inputlar geçerliyse, formu gönder
            if (allValid) {
              // Simulate form submission success
              successAlert.classList.remove('d-none');
              setTimeout(() => {
                successAlert.classList.add('d-none');
              }, 3000);

              form.reset(); // Formu sıfırla
              inputs.forEach(function (input) {
                input.classList.remove('is-invalid');
                //input.classList.remove('is-valid');
              });
            } else {
              // Geçersiz alanlar varsa, kullanıcıyı bilgilendir
              alert('Lütfen tüm alanları doğru şekilde doldurun.');
            }
          },
          false
        );
      }); //end DOMContentLoaded
    </script>
  </body>
</html>
